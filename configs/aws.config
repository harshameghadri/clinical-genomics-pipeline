/*
 * AWS Batch configuration
 */

aws {
    region = 'us-east-1'
    batch {
        cliPath = '/usr/local/aws-cli/v2/current/bin/aws'
        volumes = ['/tmp']
    }
}

process {
    executor = 'awsbatch'
    queue = 'genomics-queue'
    
    withLabel: 'bwa_mem2' {
        queue = 'genomics-compute-optimized'
        cpus = 32
        memory = '64.GB'
    }
    
    withLabel: 'star' {
        queue = 'genomics-memory-optimized'
        cpus = 16
        memory = '128.GB'
    }
    
    withLabel: 'deepvariant' {
        queue = 'genomics-gpu'
        accelerator = 1
        cpus = 8
        memory = '32.GB'
    }
}

workDir = 's3://your-genomics-bucket/work'

params {
    outdir = 's3://your-genomics-bucket/results'
    reference = 's3://your-reference-bucket/hg38'
}